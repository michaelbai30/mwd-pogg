{"ast":null,"code":"\"use strict\";\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\nvar _Array$from2 = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _set = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/set\"));\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\nvar _keys2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _startsWith = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/starts-with\"));\nvar _keys3 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/keys\"));\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\nvar _from = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/from\"));\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\nvar _LocalDatastoreUtils = require(\"./LocalDatastoreUtils\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n  if (!it) {\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context16;\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = _sliceInstanceProperty(_context16 = Object.prototype.toString.call(o)).call(_context16, 8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from2(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n} /**\n   * @flow\n   */ /*:: import type ParseObject from './ParseObject';*/\n/**\n * Provides a local datastore which can be used to store and retrieve <code>Parse.Object</code>. <br />\n * To enable this functionality, call <code>Parse.enableLocalDatastore()</code>.\n *\n * Pin object to add to local datastore\n *\n * <pre>await object.pin();</pre>\n * <pre>await object.pinWithName('pinName');</pre>\n *\n * Query pinned objects\n *\n * <pre>query.fromLocalDatastore();</pre>\n * <pre>query.fromPin();</pre>\n * <pre>query.fromPinWithName();</pre>\n *\n * <pre>const localObjects = await query.find();</pre>\n *\n * @class Parse.LocalDatastore\n * @static\n */\nvar LocalDatastore = {\n  isEnabled: false,\n  isSyncing: false,\n  fromPinWithName: function (name /*: string*/) /*: Promise<Array<Object>>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.fromPinWithName(name);\n  },\n  pinWithName: function (name /*: string*/, value /*: any*/) /*: Promise<void>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.pinWithName(name, value);\n  },\n  unPinWithName: function (name /*: string*/) /*: Promise<void>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.unPinWithName(name);\n  },\n  _getAllContents: function () /*: Promise<Object>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.getAllContents();\n  },\n  // Use for testing\n  _getRawStorage: function () /*: Promise<Object>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.getRawStorage();\n  },\n  _clear: function () /*: Promise<void>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.clear();\n  },\n  // Pin the object and children recursively\n  // Saves the object and children key to Pin Name\n  _handlePinAllWithName: function (name /*: string*/, objects /*: Array<ParseObject>*/) /*: Promise<void>*/{\n    var _this = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      var _context;\n      var pinName, toPinPromises, objectKeys, _iterator, _step, parent, children, parentKey, json, objectKey, fromPinPromise, _yield$Promise$all, _yield$Promise$all2, pinned, toPin;\n      return _regenerator.default.wrap(function (_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            pinName = _this.getPinName(name);\n            toPinPromises = [];\n            objectKeys = [];\n            _iterator = _createForOfIteratorHelper(objects);\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                parent = _step.value;\n                children = _this._getChildren(parent);\n                parentKey = _this.getKeyForObject(parent);\n                json = parent._toFullJSON(undefined, true);\n                if (parent._localId) {\n                  json._localId = parent._localId;\n                }\n                children[parentKey] = json;\n                for (objectKey in children) {\n                  objectKeys.push(objectKey);\n                  toPinPromises.push(_this.pinWithName(objectKey, [children[objectKey]]));\n                }\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n            fromPinPromise = _this.fromPinWithName(pinName);\n            _context2.next = 8;\n            return _promise.default.all([fromPinPromise, toPinPromises]);\n          case 8:\n            _yield$Promise$all = _context2.sent;\n            _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 1);\n            pinned = _yield$Promise$all2[0];\n            toPin = (0, _toConsumableArray2.default)(new _set.default((0, _concat.default)(_context = []).call(_context, (0, _toConsumableArray2.default)(pinned || []), objectKeys)));\n            return _context2.abrupt(\"return\", _this.pinWithName(pinName, toPin));\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  // Removes object and children keys from pin name\n  // Keeps the object and children pinned\n  _handleUnPinAllWithName: function (name /*: string*/, objects /*: Array<ParseObject>*/) {\n    var _this2 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n      var localDatastore, pinName, promises, objectKeys, _iterator2, _step2, _objectKeys, _context3, parent, children, parentKey, pinned, _iterator3, _step3, objectKey, hasReference, key, pinnedObjects;\n      return _regenerator.default.wrap(function (_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _this2._getAllContents();\n          case 2:\n            localDatastore = _context4.sent;\n            pinName = _this2.getPinName(name);\n            promises = [];\n            objectKeys = [];\n            _iterator2 = _createForOfIteratorHelper(objects);\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                parent = _step2.value;\n                children = _this2._getChildren(parent);\n                parentKey = _this2.getKeyForObject(parent);\n                (_objectKeys = objectKeys).push.apply(_objectKeys, (0, _concat.default)(_context3 = [parentKey]).call(_context3, (0, _toConsumableArray2.default)((0, _keys2.default)(children))));\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n            objectKeys = (0, _toConsumableArray2.default)(new _set.default(objectKeys));\n            pinned = localDatastore[pinName] || [];\n            pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n              return !(0, _includes.default)(objectKeys).call(objectKeys, item);\n            });\n            if (pinned.length == 0) {\n              promises.push(_this2.unPinWithName(pinName));\n              delete localDatastore[pinName];\n            } else {\n              promises.push(_this2.pinWithName(pinName, pinned));\n              localDatastore[pinName] = pinned;\n            }\n            _iterator3 = _createForOfIteratorHelper(objectKeys);\n            _context4.prev = 13;\n            _iterator3.s();\n          case 15:\n            if ((_step3 = _iterator3.n()).done) {\n              _context4.next = 31;\n              break;\n            }\n            objectKey = _step3.value;\n            hasReference = false;\n            _context4.t0 = (0, _keys3.default)(_regenerator.default).call(_regenerator.default, localDatastore);\n          case 19:\n            if ((_context4.t1 = _context4.t0()).done) {\n              _context4.next = 28;\n              break;\n            }\n            key = _context4.t1.value;\n            if (!(key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX))) {\n              _context4.next = 26;\n              break;\n            }\n            pinnedObjects = localDatastore[key] || [];\n            if (!(0, _includes.default)(pinnedObjects).call(pinnedObjects, objectKey)) {\n              _context4.next = 26;\n              break;\n            }\n            hasReference = true;\n            return _context4.abrupt(\"break\", 28);\n          case 26:\n            _context4.next = 19;\n            break;\n          case 28:\n            if (!hasReference) {\n              promises.push(_this2.unPinWithName(objectKey));\n            }\n          case 29:\n            _context4.next = 15;\n            break;\n          case 31:\n            _context4.next = 36;\n            break;\n          case 33:\n            _context4.prev = 33;\n            _context4.t2 = _context4[\"catch\"](13);\n            _iterator3.e(_context4.t2);\n          case 36:\n            _context4.prev = 36;\n            _iterator3.f();\n            return _context4.finish(36);\n          case 39:\n            return _context4.abrupt(\"return\", _promise.default.all(promises));\n          case 40:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee2, null, [[13, 33, 36, 39]]);\n    }))();\n  },\n  // Retrieve all pointer fields from object recursively\n  _getChildren: function (object /*: ParseObject*/) {\n    var encountered = {};\n    var json = object._toFullJSON(undefined, true);\n    for (var key in json) {\n      if (json[key] && json[key].__type && json[key].__type === 'Object') {\n        this._traverse(json[key], encountered);\n      }\n    }\n    return encountered;\n  },\n  _traverse: function (object /*: any*/, encountered /*: any*/) {\n    if (!object.objectId) {\n      return;\n    } else {\n      var objectKey = this.getKeyForObject(object);\n      if (encountered[objectKey]) {\n        return;\n      }\n      encountered[objectKey] = object;\n    }\n    for (var key in object) {\n      var json = object[key];\n      if (!object[key]) {\n        json = object;\n      }\n      if (json.__type && json.__type === 'Object') {\n        this._traverse(json, encountered);\n      }\n    }\n  },\n  // Transform keys in pin name to objects\n  _serializeObjectsFromPinName: function (name /*: string*/) {\n    var _this3 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n      var _ref;\n      var localDatastore, allObjects, key, pinName, pinned, promises, objects;\n      return _regenerator.default.wrap(function (_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _this3._getAllContents();\n          case 2:\n            localDatastore = _context5.sent;\n            allObjects = [];\n            for (key in localDatastore) {\n              if ((0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.OBJECT_PREFIX)) {\n                allObjects.push(localDatastore[key][0]);\n              }\n            }\n            if (name) {\n              _context5.next = 7;\n              break;\n            }\n            return _context5.abrupt(\"return\", allObjects);\n          case 7:\n            pinName = _this3.getPinName(name);\n            pinned = localDatastore[pinName];\n            if ((0, _isArray.default)(pinned)) {\n              _context5.next = 11;\n              break;\n            }\n            return _context5.abrupt(\"return\", []);\n          case 11:\n            promises = (0, _map.default)(pinned).call(pinned, function (objectKey) {\n              return _this3.fromPinWithName(objectKey);\n            });\n            _context5.next = 14;\n            return _promise.default.all(promises);\n          case 14:\n            objects = _context5.sent;\n            objects = (0, _concat.default)(_ref = []).apply(_ref, (0, _toConsumableArray2.default)(objects));\n            return _context5.abrupt(\"return\", (0, _filter.default)(objects).call(objects, function (object) {\n              return object != null;\n            }));\n          case 17:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee3);\n    }))();\n  },\n  // Replaces object pointers with pinned pointers\n  // The object pointers may contain old data\n  // Uses Breadth First Search Algorithm\n  _serializeObject: function (objectKey /*: string*/, localDatastore /*: any*/) {\n    var _this4 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n      var LDS, root, queue, meta, uniqueId, nodeId, subTreeRoot, field, value, key, pointer;\n      return _regenerator.default.wrap(function (_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            LDS = localDatastore;\n            if (LDS) {\n              _context6.next = 5;\n              break;\n            }\n            _context6.next = 4;\n            return _this4._getAllContents();\n          case 4:\n            LDS = _context6.sent;\n          case 5:\n            if (!(!LDS[objectKey] || LDS[objectKey].length === 0)) {\n              _context6.next = 7;\n              break;\n            }\n            return _context6.abrupt(\"return\", null);\n          case 7:\n            root = LDS[objectKey][0];\n            queue = [];\n            meta = {};\n            uniqueId = 0;\n            meta[uniqueId] = root;\n            queue.push(uniqueId);\n            while (queue.length !== 0) {\n              nodeId = queue.shift();\n              subTreeRoot = meta[nodeId];\n              for (field in subTreeRoot) {\n                value = subTreeRoot[field];\n                if (value.__type && value.__type === 'Object') {\n                  key = _this4.getKeyForObject(value);\n                  if (LDS[key] && LDS[key].length > 0) {\n                    pointer = LDS[key][0];\n                    uniqueId++;\n                    meta[uniqueId] = pointer;\n                    subTreeRoot[field] = pointer;\n                    queue.push(uniqueId);\n                  }\n                }\n              }\n            }\n            return _context6.abrupt(\"return\", root);\n          case 15:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee4);\n    }))();\n  },\n  // Called when an object is save / fetched\n  // Update object pin value\n  _updateObjectIfPinned: function (object /*: ParseObject*/) /*: Promise<void>*/{\n    var _this5 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {\n      var objectKey, pinned;\n      return _regenerator.default.wrap(function (_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            if (_this5.isEnabled) {\n              _context7.next = 2;\n              break;\n            }\n            return _context7.abrupt(\"return\");\n          case 2:\n            objectKey = _this5.getKeyForObject(object);\n            _context7.next = 5;\n            return _this5.fromPinWithName(objectKey);\n          case 5:\n            pinned = _context7.sent;\n            if (!(!pinned || pinned.length === 0)) {\n              _context7.next = 8;\n              break;\n            }\n            return _context7.abrupt(\"return\");\n          case 8:\n            return _context7.abrupt(\"return\", _this5.pinWithName(objectKey, [object._toFullJSON()]));\n          case 9:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee5);\n    }))();\n  },\n  // Called when object is destroyed\n  // Unpin object and remove all references from pin names\n  // TODO: Destroy children?\n  _destroyObjectIfPinned: function (object /*: ParseObject*/) {\n    var _this6 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n      var localDatastore, objectKey, pin, promises, key, pinned;\n      return _regenerator.default.wrap(function (_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            if (_this6.isEnabled) {\n              _context8.next = 2;\n              break;\n            }\n            return _context8.abrupt(\"return\");\n          case 2:\n            _context8.next = 4;\n            return _this6._getAllContents();\n          case 4:\n            localDatastore = _context8.sent;\n            objectKey = _this6.getKeyForObject(object);\n            pin = localDatastore[objectKey];\n            if (pin) {\n              _context8.next = 9;\n              break;\n            }\n            return _context8.abrupt(\"return\");\n          case 9:\n            promises = [_this6.unPinWithName(objectKey)];\n            delete localDatastore[objectKey];\n            for (key in localDatastore) {\n              if (key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX)) {\n                pinned = localDatastore[key] || [];\n                if ((0, _includes.default)(pinned).call(pinned, objectKey)) {\n                  pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                    return item !== objectKey;\n                  });\n                  if (pinned.length == 0) {\n                    promises.push(_this6.unPinWithName(key));\n                    delete localDatastore[key];\n                  } else {\n                    promises.push(_this6.pinWithName(key, pinned));\n                    localDatastore[key] = pinned;\n                  }\n                }\n              }\n            }\n            return _context8.abrupt(\"return\", _promise.default.all(promises));\n          case 13:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee6);\n    }))();\n  },\n  // Update pin and references of the unsaved object\n  _updateLocalIdForObject: function (localId /*: string*/, object /*: ParseObject*/) {\n    var _this7 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n      var _context9, _context10;\n      var localKey, objectKey, unsaved, promises, localDatastore, key, pinned;\n      return _regenerator.default.wrap(function (_context11) {\n        while (1) switch (_context11.prev = _context11.next) {\n          case 0:\n            if (_this7.isEnabled) {\n              _context11.next = 2;\n              break;\n            }\n            return _context11.abrupt(\"return\");\n          case 2:\n            localKey = (0, _concat.default)(_context9 = (0, _concat.default)(_context10 = \"\".concat(_LocalDatastoreUtils.OBJECT_PREFIX)).call(_context10, object.className, \"_\")).call(_context9, localId);\n            objectKey = _this7.getKeyForObject(object);\n            _context11.next = 6;\n            return _this7.fromPinWithName(localKey);\n          case 6:\n            unsaved = _context11.sent;\n            if (!(!unsaved || unsaved.length === 0)) {\n              _context11.next = 9;\n              break;\n            }\n            return _context11.abrupt(\"return\");\n          case 9:\n            promises = [_this7.unPinWithName(localKey), _this7.pinWithName(objectKey, unsaved)];\n            _context11.next = 12;\n            return _this7._getAllContents();\n          case 12:\n            localDatastore = _context11.sent;\n            for (key in localDatastore) {\n              if (key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX)) {\n                pinned = localDatastore[key] || [];\n                if ((0, _includes.default)(pinned).call(pinned, localKey)) {\n                  pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                    return item !== localKey;\n                  });\n                  pinned.push(objectKey);\n                  promises.push(_this7.pinWithName(key, pinned));\n                  localDatastore[key] = pinned;\n                }\n              }\n            }\n            return _context11.abrupt(\"return\", _promise.default.all(promises));\n          case 15:\n          case \"end\":\n            return _context11.stop();\n        }\n      }, _callee7);\n    }))();\n  },\n  /**\n   * Updates Local Datastore from Server\n   *\n   * <pre>\n   * await Parse.LocalDatastore.updateFromServer();\n   * </pre>\n   *\n   * @function updateFromServer\n   * @name Parse.LocalDatastore.updateFromServer\n   * @static\n   */\n  updateFromServer: function () {\n    var _this8 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n      var _context12;\n      var localDatastore, keys, key, pointersHash, _i, _keys, _key, _key$split, _key$split2, className, objectId, queryPromises, responses, objects, pinPromises;\n      return _regenerator.default.wrap(function (_context13) {\n        while (1) switch (_context13.prev = _context13.next) {\n          case 0:\n            if (!(!_this8.checkIfEnabled() || _this8.isSyncing)) {\n              _context13.next = 2;\n              break;\n            }\n            return _context13.abrupt(\"return\");\n          case 2:\n            _context13.next = 4;\n            return _this8._getAllContents();\n          case 4:\n            localDatastore = _context13.sent;\n            keys = [];\n            for (key in localDatastore) {\n              if ((0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.OBJECT_PREFIX)) {\n                keys.push(key);\n              }\n            }\n            if (!(keys.length === 0)) {\n              _context13.next = 9;\n              break;\n            }\n            return _context13.abrupt(\"return\");\n          case 9:\n            _this8.isSyncing = true;\n            pointersHash = {};\n            _i = 0, _keys = keys;\n          case 12:\n            if (!(_i < _keys.length)) {\n              _context13.next = 23;\n              break;\n            }\n            _key = _keys[_i];\n            // Ignore the OBJECT_PREFIX\n            _key$split = _key.split('_'), _key$split2 = (0, _slicedToArray2.default)(_key$split, 4), className = _key$split2[2], objectId = _key$split2[3]; // User key is split into [ 'Parse', 'LDS', '', 'User', 'objectId' ]\n            if (_key.split('_').length === 5 && _key.split('_')[3] === 'User') {\n              className = '_User';\n              objectId = _key.split('_')[4];\n            }\n            if (!(0, _startsWith.default)(objectId).call(objectId, 'local')) {\n              _context13.next = 18;\n              break;\n            }\n            return _context13.abrupt(\"continue\", 20);\n          case 18:\n            if (!(className in pointersHash)) {\n              pointersHash[className] = new _set.default();\n            }\n            pointersHash[className].add(objectId);\n          case 20:\n            _i++;\n            _context13.next = 12;\n            break;\n          case 23:\n            queryPromises = (0, _map.default)(_context12 = (0, _keys2.default)(pointersHash)).call(_context12, function (className) {\n              var objectIds = (0, _from.default)(pointersHash[className]);\n              var query = new _ParseQuery.default(className);\n              query.limit(objectIds.length);\n              if (objectIds.length === 1) {\n                query.equalTo('objectId', objectIds[0]);\n              } else {\n                query.containedIn('objectId', objectIds);\n              }\n              return (0, _find.default)(query).call(query);\n            });\n            _context13.prev = 24;\n            _context13.next = 27;\n            return _promise.default.all(queryPromises);\n          case 27:\n            responses = _context13.sent;\n            objects = (0, _concat.default)([]).apply([], responses);\n            pinPromises = (0, _map.default)(objects).call(objects, function (object) {\n              var objectKey = _this8.getKeyForObject(object);\n              return _this8.pinWithName(objectKey, object._toFullJSON());\n            });\n            _context13.next = 32;\n            return _promise.default.all(pinPromises);\n          case 32:\n            _this8.isSyncing = false;\n            _context13.next = 39;\n            break;\n          case 35:\n            _context13.prev = 35;\n            _context13.t0 = _context13[\"catch\"](24);\n            console.error('Error syncing LocalDatastore: ', _context13.t0);\n            _this8.isSyncing = false;\n          case 39:\n          case \"end\":\n            return _context13.stop();\n        }\n      }, _callee8, null, [[24, 35]]);\n    }))();\n  },\n  getKeyForObject: function (object /*: any*/) {\n    var _context14, _context15;\n    var objectId = object.objectId || object._getId();\n    return (0, _concat.default)(_context14 = (0, _concat.default)(_context15 = \"\".concat(_LocalDatastoreUtils.OBJECT_PREFIX)).call(_context15, object.className, \"_\")).call(_context14, objectId);\n  },\n  getPinName: function (pinName /*: ?string*/) {\n    if (!pinName || pinName === _LocalDatastoreUtils.DEFAULT_PIN) {\n      return _LocalDatastoreUtils.DEFAULT_PIN;\n    }\n    return _LocalDatastoreUtils.PIN_PREFIX + pinName;\n  },\n  checkIfEnabled: function () {\n    if (!this.isEnabled) {\n      console.error('Parse.enableLocalDatastore() must be called first');\n    }\n    return this.isEnabled;\n  }\n};\nmodule.exports = LocalDatastore;\n_CoreManager.default.setLocalDatastoreController(require('./LocalDatastoreController'));\n_CoreManager.default.setLocalDatastore(LocalDatastore);","map":{"version":3,"names":["_sliceInstanceProperty","require","_Array$from2","_Symbol","_getIteratorMethod","_Array$isArray2","_interopRequireDefault","_regenerator","_promise","_set","_concat","_filter","_includes","_keys2","_startsWith","_keys3","_isArray","_map","_from","_find","_toConsumableArray2","_slicedToArray2","_asyncToGenerator2","_CoreManager","_ParseQuery","_LocalDatastoreUtils","_createForOfIteratorHelper","o","allowArrayLike","it","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","return","minLen","_context16","_arrayLikeToArray","Object","prototype","toString","constructor","name","test","arr","len","arr2","Array","LocalDatastore","isEnabled","isSyncing","fromPinWithName","controller","default","getLocalDatastoreController","pinWithName","unPinWithName","_getAllContents","getAllContents","_getRawStorage","getRawStorage","_clear","clear","_handlePinAllWithName","objects","_this","mark","_callee","_context","pinName","toPinPromises","objectKeys","_iterator","_step","parent","children","parentKey","json","objectKey","fromPinPromise","_yield$Promise$all","_yield$Promise$all2","pinned","toPin","wrap","_context2","prev","getPinName","_getChildren","getKeyForObject","_toFullJSON","undefined","_localId","push","all","sent","abrupt","stop","_handleUnPinAllWithName","_this2","_callee2","localDatastore","promises","_iterator2","_step2","_objectKeys","_context3","_iterator3","_step3","hasReference","key","pinnedObjects","_context4","apply","item","t0","t1","DEFAULT_PIN","PIN_PREFIX","t2","finish","object","encountered","__type","_traverse","objectId","_serializeObjectsFromPinName","_this3","_callee3","_ref","allObjects","_context5","OBJECT_PREFIX","_serializeObject","_this4","_callee4","LDS","root","queue","meta","uniqueId","nodeId","subTreeRoot","field","pointer","_context6","shift","_updateObjectIfPinned","_this5","_callee5","_context7","_destroyObjectIfPinned","_this6","_callee6","pin","_context8","_updateLocalIdForObject","localId","_this7","_callee7","_context9","_context10","localKey","unsaved","_context11","concat","className","updateFromServer","_this8","_callee8","_context12","keys","pointersHash","_i","_keys","_key","_key$split","_key$split2","queryPromises","responses","pinPromises","_context13","checkIfEnabled","split","add","objectIds","query","limit","equalTo","containedIn","console","error","_context14","_context15","_getId","module","exports","setLocalDatastoreController","setLocalDatastore"],"sources":["/home/mspadafo/compsci/MWD/mwd-pogg/poggcopy/pogg/node_modules/parse/lib/browser/LocalDatastore.js"],"sourcesContent":["\"use strict\";\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\nvar _Array$from2 = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _set = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/set\"));\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\nvar _keys2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _startsWith = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/starts-with\"));\nvar _keys3 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/keys\"));\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\nvar _from = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/from\"));\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\nvar _LocalDatastoreUtils = require(\"./LocalDatastoreUtils\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n  if (!it) {\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context16;\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = _sliceInstanceProperty(_context16 = Object.prototype.toString.call(o)).call(_context16, 8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from2(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n} /**\n   * @flow\n   */ /*:: import type ParseObject from './ParseObject';*/\n/**\n * Provides a local datastore which can be used to store and retrieve <code>Parse.Object</code>. <br />\n * To enable this functionality, call <code>Parse.enableLocalDatastore()</code>.\n *\n * Pin object to add to local datastore\n *\n * <pre>await object.pin();</pre>\n * <pre>await object.pinWithName('pinName');</pre>\n *\n * Query pinned objects\n *\n * <pre>query.fromLocalDatastore();</pre>\n * <pre>query.fromPin();</pre>\n * <pre>query.fromPinWithName();</pre>\n *\n * <pre>const localObjects = await query.find();</pre>\n *\n * @class Parse.LocalDatastore\n * @static\n */\nvar LocalDatastore = {\n  isEnabled: false,\n  isSyncing: false,\n  fromPinWithName: function (name /*: string*/) /*: Promise<Array<Object>>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.fromPinWithName(name);\n  },\n  pinWithName: function (name /*: string*/, value /*: any*/) /*: Promise<void>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.pinWithName(name, value);\n  },\n  unPinWithName: function (name /*: string*/) /*: Promise<void>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.unPinWithName(name);\n  },\n  _getAllContents: function () /*: Promise<Object>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.getAllContents();\n  },\n  // Use for testing\n  _getRawStorage: function () /*: Promise<Object>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.getRawStorage();\n  },\n  _clear: function () /*: Promise<void>*/{\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.clear();\n  },\n  // Pin the object and children recursively\n  // Saves the object and children key to Pin Name\n  _handlePinAllWithName: function (name /*: string*/, objects /*: Array<ParseObject>*/) /*: Promise<void>*/{\n    var _this = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      var _context;\n      var pinName, toPinPromises, objectKeys, _iterator, _step, parent, children, parentKey, json, objectKey, fromPinPromise, _yield$Promise$all, _yield$Promise$all2, pinned, toPin;\n      return _regenerator.default.wrap(function (_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            pinName = _this.getPinName(name);\n            toPinPromises = [];\n            objectKeys = [];\n            _iterator = _createForOfIteratorHelper(objects);\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                parent = _step.value;\n                children = _this._getChildren(parent);\n                parentKey = _this.getKeyForObject(parent);\n                json = parent._toFullJSON(undefined, true);\n                if (parent._localId) {\n                  json._localId = parent._localId;\n                }\n                children[parentKey] = json;\n                for (objectKey in children) {\n                  objectKeys.push(objectKey);\n                  toPinPromises.push(_this.pinWithName(objectKey, [children[objectKey]]));\n                }\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n            fromPinPromise = _this.fromPinWithName(pinName);\n            _context2.next = 8;\n            return _promise.default.all([fromPinPromise, toPinPromises]);\n          case 8:\n            _yield$Promise$all = _context2.sent;\n            _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 1);\n            pinned = _yield$Promise$all2[0];\n            toPin = (0, _toConsumableArray2.default)(new _set.default((0, _concat.default)(_context = []).call(_context, (0, _toConsumableArray2.default)(pinned || []), objectKeys)));\n            return _context2.abrupt(\"return\", _this.pinWithName(pinName, toPin));\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  // Removes object and children keys from pin name\n  // Keeps the object and children pinned\n  _handleUnPinAllWithName: function (name /*: string*/, objects /*: Array<ParseObject>*/) {\n    var _this2 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n      var localDatastore, pinName, promises, objectKeys, _iterator2, _step2, _objectKeys, _context3, parent, children, parentKey, pinned, _iterator3, _step3, objectKey, hasReference, key, pinnedObjects;\n      return _regenerator.default.wrap(function (_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _this2._getAllContents();\n          case 2:\n            localDatastore = _context4.sent;\n            pinName = _this2.getPinName(name);\n            promises = [];\n            objectKeys = [];\n            _iterator2 = _createForOfIteratorHelper(objects);\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                parent = _step2.value;\n                children = _this2._getChildren(parent);\n                parentKey = _this2.getKeyForObject(parent);\n                (_objectKeys = objectKeys).push.apply(_objectKeys, (0, _concat.default)(_context3 = [parentKey]).call(_context3, (0, _toConsumableArray2.default)((0, _keys2.default)(children))));\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n            objectKeys = (0, _toConsumableArray2.default)(new _set.default(objectKeys));\n            pinned = localDatastore[pinName] || [];\n            pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n              return !(0, _includes.default)(objectKeys).call(objectKeys, item);\n            });\n            if (pinned.length == 0) {\n              promises.push(_this2.unPinWithName(pinName));\n              delete localDatastore[pinName];\n            } else {\n              promises.push(_this2.pinWithName(pinName, pinned));\n              localDatastore[pinName] = pinned;\n            }\n            _iterator3 = _createForOfIteratorHelper(objectKeys);\n            _context4.prev = 13;\n            _iterator3.s();\n          case 15:\n            if ((_step3 = _iterator3.n()).done) {\n              _context4.next = 31;\n              break;\n            }\n            objectKey = _step3.value;\n            hasReference = false;\n            _context4.t0 = (0, _keys3.default)(_regenerator.default).call(_regenerator.default, localDatastore);\n          case 19:\n            if ((_context4.t1 = _context4.t0()).done) {\n              _context4.next = 28;\n              break;\n            }\n            key = _context4.t1.value;\n            if (!(key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX))) {\n              _context4.next = 26;\n              break;\n            }\n            pinnedObjects = localDatastore[key] || [];\n            if (!(0, _includes.default)(pinnedObjects).call(pinnedObjects, objectKey)) {\n              _context4.next = 26;\n              break;\n            }\n            hasReference = true;\n            return _context4.abrupt(\"break\", 28);\n          case 26:\n            _context4.next = 19;\n            break;\n          case 28:\n            if (!hasReference) {\n              promises.push(_this2.unPinWithName(objectKey));\n            }\n          case 29:\n            _context4.next = 15;\n            break;\n          case 31:\n            _context4.next = 36;\n            break;\n          case 33:\n            _context4.prev = 33;\n            _context4.t2 = _context4[\"catch\"](13);\n            _iterator3.e(_context4.t2);\n          case 36:\n            _context4.prev = 36;\n            _iterator3.f();\n            return _context4.finish(36);\n          case 39:\n            return _context4.abrupt(\"return\", _promise.default.all(promises));\n          case 40:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee2, null, [[13, 33, 36, 39]]);\n    }))();\n  },\n  // Retrieve all pointer fields from object recursively\n  _getChildren: function (object /*: ParseObject*/) {\n    var encountered = {};\n    var json = object._toFullJSON(undefined, true);\n    for (var key in json) {\n      if (json[key] && json[key].__type && json[key].__type === 'Object') {\n        this._traverse(json[key], encountered);\n      }\n    }\n    return encountered;\n  },\n  _traverse: function (object /*: any*/, encountered /*: any*/) {\n    if (!object.objectId) {\n      return;\n    } else {\n      var objectKey = this.getKeyForObject(object);\n      if (encountered[objectKey]) {\n        return;\n      }\n      encountered[objectKey] = object;\n    }\n    for (var key in object) {\n      var json = object[key];\n      if (!object[key]) {\n        json = object;\n      }\n      if (json.__type && json.__type === 'Object') {\n        this._traverse(json, encountered);\n      }\n    }\n  },\n  // Transform keys in pin name to objects\n  _serializeObjectsFromPinName: function (name /*: string*/) {\n    var _this3 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n      var _ref;\n      var localDatastore, allObjects, key, pinName, pinned, promises, objects;\n      return _regenerator.default.wrap(function (_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _this3._getAllContents();\n          case 2:\n            localDatastore = _context5.sent;\n            allObjects = [];\n            for (key in localDatastore) {\n              if ((0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.OBJECT_PREFIX)) {\n                allObjects.push(localDatastore[key][0]);\n              }\n            }\n            if (name) {\n              _context5.next = 7;\n              break;\n            }\n            return _context5.abrupt(\"return\", allObjects);\n          case 7:\n            pinName = _this3.getPinName(name);\n            pinned = localDatastore[pinName];\n            if ((0, _isArray.default)(pinned)) {\n              _context5.next = 11;\n              break;\n            }\n            return _context5.abrupt(\"return\", []);\n          case 11:\n            promises = (0, _map.default)(pinned).call(pinned, function (objectKey) {\n              return _this3.fromPinWithName(objectKey);\n            });\n            _context5.next = 14;\n            return _promise.default.all(promises);\n          case 14:\n            objects = _context5.sent;\n            objects = (0, _concat.default)(_ref = []).apply(_ref, (0, _toConsumableArray2.default)(objects));\n            return _context5.abrupt(\"return\", (0, _filter.default)(objects).call(objects, function (object) {\n              return object != null;\n            }));\n          case 17:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee3);\n    }))();\n  },\n  // Replaces object pointers with pinned pointers\n  // The object pointers may contain old data\n  // Uses Breadth First Search Algorithm\n  _serializeObject: function (objectKey /*: string*/, localDatastore /*: any*/) {\n    var _this4 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n      var LDS, root, queue, meta, uniqueId, nodeId, subTreeRoot, field, value, key, pointer;\n      return _regenerator.default.wrap(function (_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            LDS = localDatastore;\n            if (LDS) {\n              _context6.next = 5;\n              break;\n            }\n            _context6.next = 4;\n            return _this4._getAllContents();\n          case 4:\n            LDS = _context6.sent;\n          case 5:\n            if (!(!LDS[objectKey] || LDS[objectKey].length === 0)) {\n              _context6.next = 7;\n              break;\n            }\n            return _context6.abrupt(\"return\", null);\n          case 7:\n            root = LDS[objectKey][0];\n            queue = [];\n            meta = {};\n            uniqueId = 0;\n            meta[uniqueId] = root;\n            queue.push(uniqueId);\n            while (queue.length !== 0) {\n              nodeId = queue.shift();\n              subTreeRoot = meta[nodeId];\n              for (field in subTreeRoot) {\n                value = subTreeRoot[field];\n                if (value.__type && value.__type === 'Object') {\n                  key = _this4.getKeyForObject(value);\n                  if (LDS[key] && LDS[key].length > 0) {\n                    pointer = LDS[key][0];\n                    uniqueId++;\n                    meta[uniqueId] = pointer;\n                    subTreeRoot[field] = pointer;\n                    queue.push(uniqueId);\n                  }\n                }\n              }\n            }\n            return _context6.abrupt(\"return\", root);\n          case 15:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee4);\n    }))();\n  },\n  // Called when an object is save / fetched\n  // Update object pin value\n  _updateObjectIfPinned: function (object /*: ParseObject*/) /*: Promise<void>*/{\n    var _this5 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {\n      var objectKey, pinned;\n      return _regenerator.default.wrap(function (_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            if (_this5.isEnabled) {\n              _context7.next = 2;\n              break;\n            }\n            return _context7.abrupt(\"return\");\n          case 2:\n            objectKey = _this5.getKeyForObject(object);\n            _context7.next = 5;\n            return _this5.fromPinWithName(objectKey);\n          case 5:\n            pinned = _context7.sent;\n            if (!(!pinned || pinned.length === 0)) {\n              _context7.next = 8;\n              break;\n            }\n            return _context7.abrupt(\"return\");\n          case 8:\n            return _context7.abrupt(\"return\", _this5.pinWithName(objectKey, [object._toFullJSON()]));\n          case 9:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee5);\n    }))();\n  },\n  // Called when object is destroyed\n  // Unpin object and remove all references from pin names\n  // TODO: Destroy children?\n  _destroyObjectIfPinned: function (object /*: ParseObject*/) {\n    var _this6 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n      var localDatastore, objectKey, pin, promises, key, pinned;\n      return _regenerator.default.wrap(function (_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            if (_this6.isEnabled) {\n              _context8.next = 2;\n              break;\n            }\n            return _context8.abrupt(\"return\");\n          case 2:\n            _context8.next = 4;\n            return _this6._getAllContents();\n          case 4:\n            localDatastore = _context8.sent;\n            objectKey = _this6.getKeyForObject(object);\n            pin = localDatastore[objectKey];\n            if (pin) {\n              _context8.next = 9;\n              break;\n            }\n            return _context8.abrupt(\"return\");\n          case 9:\n            promises = [_this6.unPinWithName(objectKey)];\n            delete localDatastore[objectKey];\n            for (key in localDatastore) {\n              if (key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX)) {\n                pinned = localDatastore[key] || [];\n                if ((0, _includes.default)(pinned).call(pinned, objectKey)) {\n                  pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                    return item !== objectKey;\n                  });\n                  if (pinned.length == 0) {\n                    promises.push(_this6.unPinWithName(key));\n                    delete localDatastore[key];\n                  } else {\n                    promises.push(_this6.pinWithName(key, pinned));\n                    localDatastore[key] = pinned;\n                  }\n                }\n              }\n            }\n            return _context8.abrupt(\"return\", _promise.default.all(promises));\n          case 13:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee6);\n    }))();\n  },\n  // Update pin and references of the unsaved object\n  _updateLocalIdForObject: function (localId /*: string*/, object /*: ParseObject*/) {\n    var _this7 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n      var _context9, _context10;\n      var localKey, objectKey, unsaved, promises, localDatastore, key, pinned;\n      return _regenerator.default.wrap(function (_context11) {\n        while (1) switch (_context11.prev = _context11.next) {\n          case 0:\n            if (_this7.isEnabled) {\n              _context11.next = 2;\n              break;\n            }\n            return _context11.abrupt(\"return\");\n          case 2:\n            localKey = (0, _concat.default)(_context9 = (0, _concat.default)(_context10 = \"\".concat(_LocalDatastoreUtils.OBJECT_PREFIX)).call(_context10, object.className, \"_\")).call(_context9, localId);\n            objectKey = _this7.getKeyForObject(object);\n            _context11.next = 6;\n            return _this7.fromPinWithName(localKey);\n          case 6:\n            unsaved = _context11.sent;\n            if (!(!unsaved || unsaved.length === 0)) {\n              _context11.next = 9;\n              break;\n            }\n            return _context11.abrupt(\"return\");\n          case 9:\n            promises = [_this7.unPinWithName(localKey), _this7.pinWithName(objectKey, unsaved)];\n            _context11.next = 12;\n            return _this7._getAllContents();\n          case 12:\n            localDatastore = _context11.sent;\n            for (key in localDatastore) {\n              if (key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX)) {\n                pinned = localDatastore[key] || [];\n                if ((0, _includes.default)(pinned).call(pinned, localKey)) {\n                  pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                    return item !== localKey;\n                  });\n                  pinned.push(objectKey);\n                  promises.push(_this7.pinWithName(key, pinned));\n                  localDatastore[key] = pinned;\n                }\n              }\n            }\n            return _context11.abrupt(\"return\", _promise.default.all(promises));\n          case 15:\n          case \"end\":\n            return _context11.stop();\n        }\n      }, _callee7);\n    }))();\n  },\n  /**\n   * Updates Local Datastore from Server\n   *\n   * <pre>\n   * await Parse.LocalDatastore.updateFromServer();\n   * </pre>\n   *\n   * @function updateFromServer\n   * @name Parse.LocalDatastore.updateFromServer\n   * @static\n   */\n  updateFromServer: function () {\n    var _this8 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n      var _context12;\n      var localDatastore, keys, key, pointersHash, _i, _keys, _key, _key$split, _key$split2, className, objectId, queryPromises, responses, objects, pinPromises;\n      return _regenerator.default.wrap(function (_context13) {\n        while (1) switch (_context13.prev = _context13.next) {\n          case 0:\n            if (!(!_this8.checkIfEnabled() || _this8.isSyncing)) {\n              _context13.next = 2;\n              break;\n            }\n            return _context13.abrupt(\"return\");\n          case 2:\n            _context13.next = 4;\n            return _this8._getAllContents();\n          case 4:\n            localDatastore = _context13.sent;\n            keys = [];\n            for (key in localDatastore) {\n              if ((0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.OBJECT_PREFIX)) {\n                keys.push(key);\n              }\n            }\n            if (!(keys.length === 0)) {\n              _context13.next = 9;\n              break;\n            }\n            return _context13.abrupt(\"return\");\n          case 9:\n            _this8.isSyncing = true;\n            pointersHash = {};\n            _i = 0, _keys = keys;\n          case 12:\n            if (!(_i < _keys.length)) {\n              _context13.next = 23;\n              break;\n            }\n            _key = _keys[_i];\n            // Ignore the OBJECT_PREFIX\n            _key$split = _key.split('_'), _key$split2 = (0, _slicedToArray2.default)(_key$split, 4), className = _key$split2[2], objectId = _key$split2[3]; // User key is split into [ 'Parse', 'LDS', '', 'User', 'objectId' ]\n            if (_key.split('_').length === 5 && _key.split('_')[3] === 'User') {\n              className = '_User';\n              objectId = _key.split('_')[4];\n            }\n            if (!(0, _startsWith.default)(objectId).call(objectId, 'local')) {\n              _context13.next = 18;\n              break;\n            }\n            return _context13.abrupt(\"continue\", 20);\n          case 18:\n            if (!(className in pointersHash)) {\n              pointersHash[className] = new _set.default();\n            }\n            pointersHash[className].add(objectId);\n          case 20:\n            _i++;\n            _context13.next = 12;\n            break;\n          case 23:\n            queryPromises = (0, _map.default)(_context12 = (0, _keys2.default)(pointersHash)).call(_context12, function (className) {\n              var objectIds = (0, _from.default)(pointersHash[className]);\n              var query = new _ParseQuery.default(className);\n              query.limit(objectIds.length);\n              if (objectIds.length === 1) {\n                query.equalTo('objectId', objectIds[0]);\n              } else {\n                query.containedIn('objectId', objectIds);\n              }\n              return (0, _find.default)(query).call(query);\n            });\n            _context13.prev = 24;\n            _context13.next = 27;\n            return _promise.default.all(queryPromises);\n          case 27:\n            responses = _context13.sent;\n            objects = (0, _concat.default)([]).apply([], responses);\n            pinPromises = (0, _map.default)(objects).call(objects, function (object) {\n              var objectKey = _this8.getKeyForObject(object);\n              return _this8.pinWithName(objectKey, object._toFullJSON());\n            });\n            _context13.next = 32;\n            return _promise.default.all(pinPromises);\n          case 32:\n            _this8.isSyncing = false;\n            _context13.next = 39;\n            break;\n          case 35:\n            _context13.prev = 35;\n            _context13.t0 = _context13[\"catch\"](24);\n            console.error('Error syncing LocalDatastore: ', _context13.t0);\n            _this8.isSyncing = false;\n          case 39:\n          case \"end\":\n            return _context13.stop();\n        }\n      }, _callee8, null, [[24, 35]]);\n    }))();\n  },\n  getKeyForObject: function (object /*: any*/) {\n    var _context14, _context15;\n    var objectId = object.objectId || object._getId();\n    return (0, _concat.default)(_context14 = (0, _concat.default)(_context15 = \"\".concat(_LocalDatastoreUtils.OBJECT_PREFIX)).call(_context15, object.className, \"_\")).call(_context14, objectId);\n  },\n  getPinName: function (pinName /*: ?string*/) {\n    if (!pinName || pinName === _LocalDatastoreUtils.DEFAULT_PIN) {\n      return _LocalDatastoreUtils.DEFAULT_PIN;\n    }\n    return _LocalDatastoreUtils.PIN_PREFIX + pinName;\n  },\n  checkIfEnabled: function () {\n    if (!this.isEnabled) {\n      console.error('Parse.enableLocalDatastore() must be called first');\n    }\n    return this.isEnabled;\n  }\n};\nmodule.exports = LocalDatastore;\n_CoreManager.default.setLocalDatastoreController(require('./LocalDatastoreController'));\n_CoreManager.default.setLocalDatastore(LocalDatastore);"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}