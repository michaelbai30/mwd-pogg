{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\nvar _promiseUtils = require(\"./promiseUtils\");\n/**\n * @flow\n */\n/*:: type Task = {\n  task: () => Promise,\n  _completion: Promise,\n};*/\nvar TaskQueue = /*#__PURE__*/function () {\n  function TaskQueue() {\n    (0, _classCallCheck2.default)(this, TaskQueue);\n    (0, _defineProperty2.default)(this, \"queue\", void 0);\n    this.queue = [];\n  }\n  (0, _createClass2.default)(TaskQueue, [{\n    key: \"enqueue\",\n    value: function (task /*: () => Promise*/) /*: Promise*/{\n      var _this = this;\n      var taskComplete = new _promiseUtils.resolvingPromise();\n      this.queue.push({\n        task: task,\n        _completion: taskComplete\n      });\n      if (this.queue.length === 1) {\n        task().then(function () {\n          _this._dequeue();\n          taskComplete.resolve();\n        }, function (error) {\n          _this._dequeue();\n          taskComplete.reject(error);\n        });\n      }\n      return taskComplete;\n    }\n  }, {\n    key: \"_dequeue\",\n    value: function () {\n      var _this2 = this;\n      this.queue.shift();\n      if (this.queue.length) {\n        var next = this.queue[0];\n        next.task().then(function () {\n          _this2._dequeue();\n          next._completion.resolve();\n        }, function (error) {\n          _this2._dequeue();\n          next._completion.reject(error);\n        });\n      }\n    }\n  }]);\n  return TaskQueue;\n}();\nmodule.exports = TaskQueue;","map":{"version":3,"names":["_interopRequireDefault","require","_classCallCheck2","_createClass2","_defineProperty2","_promiseUtils","TaskQueue","default","queue","key","value","task","_this","taskComplete","resolvingPromise","push","_completion","length","then","_dequeue","resolve","error","reject","_this2","shift","next","module","exports"],"sources":["/home/mspadafo/compsci/MWD/pogg/node_modules/parse/lib/browser/TaskQueue.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\nvar _promiseUtils = require(\"./promiseUtils\");\n/**\n * @flow\n */\n/*:: type Task = {\n  task: () => Promise,\n  _completion: Promise,\n};*/\nvar TaskQueue = /*#__PURE__*/function () {\n  function TaskQueue() {\n    (0, _classCallCheck2.default)(this, TaskQueue);\n    (0, _defineProperty2.default)(this, \"queue\", void 0);\n    this.queue = [];\n  }\n  (0, _createClass2.default)(TaskQueue, [{\n    key: \"enqueue\",\n    value: function (task /*: () => Promise*/) /*: Promise*/{\n      var _this = this;\n      var taskComplete = new _promiseUtils.resolvingPromise();\n      this.queue.push({\n        task: task,\n        _completion: taskComplete\n      });\n      if (this.queue.length === 1) {\n        task().then(function () {\n          _this._dequeue();\n          taskComplete.resolve();\n        }, function (error) {\n          _this._dequeue();\n          taskComplete.reject(error);\n        });\n      }\n      return taskComplete;\n    }\n  }, {\n    key: \"_dequeue\",\n    value: function () {\n      var _this2 = this;\n      this.queue.shift();\n      if (this.queue.length) {\n        var next = this.queue[0];\n        next.task().then(function () {\n          _this2._dequeue();\n          next._completion.resolve();\n        }, function (error) {\n          _this2._dequeue();\n          next._completion.reject(error);\n        });\n      }\n    }\n  }]);\n  return TaskQueue;\n}();\nmodule.exports = TaskQueue;"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,sDAAsD,CAAC;AAC5F,IAAIC,gBAAgB,GAAGF,sBAAsB,CAACC,OAAO,CAAC,+CAA+C,CAAC,CAAC;AACvG,IAAIE,aAAa,GAAGH,sBAAsB,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAC;AACjG,IAAIG,gBAAgB,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,+CAA+C,CAAC,CAAC;AACvG,IAAII,aAAa,GAAGJ,OAAO,CAAC,gBAAgB,CAAC;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIK,SAAS,GAAG,aAAa,YAAY;EACvC,SAASA,SAASA,CAAA,EAAG;IACnB,CAAC,CAAC,EAAEJ,gBAAgB,CAACK,OAAO,EAAE,IAAI,EAAED,SAAS,CAAC;IAC9C,CAAC,CAAC,EAAEF,gBAAgB,CAACG,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IACpD,IAAI,CAACC,KAAK,GAAG,EAAE;EACjB;EACA,CAAC,CAAC,EAAEL,aAAa,CAACI,OAAO,EAAED,SAAS,EAAE,CAAC;IACrCG,GAAG,EAAE,SAAS;IACdC,KAAK,EAAE,SAAAA,CAAUC,IAAI,CAAC,qBAAqB,aAAa;MACtD,IAAIC,KAAK,GAAG,IAAI;MAChB,IAAIC,YAAY,GAAG,IAAIR,aAAa,CAACS,gBAAgB,CAAC,CAAC;MACvD,IAAI,CAACN,KAAK,CAACO,IAAI,CAAC;QACdJ,IAAI,EAAEA,IAAI;QACVK,WAAW,EAAEH;MACf,CAAC,CAAC;MACF,IAAI,IAAI,CAACL,KAAK,CAACS,MAAM,KAAK,CAAC,EAAE;QAC3BN,IAAI,CAAC,CAAC,CAACO,IAAI,CAAC,YAAY;UACtBN,KAAK,CAACO,QAAQ,CAAC,CAAC;UAChBN,YAAY,CAACO,OAAO,CAAC,CAAC;QACxB,CAAC,EAAE,UAAUC,KAAK,EAAE;UAClBT,KAAK,CAACO,QAAQ,CAAC,CAAC;UAChBN,YAAY,CAACS,MAAM,CAACD,KAAK,CAAC;QAC5B,CAAC,CAAC;MACJ;MACA,OAAOR,YAAY;IACrB;EACF,CAAC,EAAE;IACDJ,GAAG,EAAE,UAAU;IACfC,KAAK,EAAE,SAAAA,CAAA,EAAY;MACjB,IAAIa,MAAM,GAAG,IAAI;MACjB,IAAI,CAACf,KAAK,CAACgB,KAAK,CAAC,CAAC;MAClB,IAAI,IAAI,CAAChB,KAAK,CAACS,MAAM,EAAE;QACrB,IAAIQ,IAAI,GAAG,IAAI,CAACjB,KAAK,CAAC,CAAC,CAAC;QACxBiB,IAAI,CAACd,IAAI,CAAC,CAAC,CAACO,IAAI,CAAC,YAAY;UAC3BK,MAAM,CAACJ,QAAQ,CAAC,CAAC;UACjBM,IAAI,CAACT,WAAW,CAACI,OAAO,CAAC,CAAC;QAC5B,CAAC,EAAE,UAAUC,KAAK,EAAE;UAClBE,MAAM,CAACJ,QAAQ,CAAC,CAAC;UACjBM,IAAI,CAACT,WAAW,CAACM,MAAM,CAACD,KAAK,CAAC;QAChC,CAAC,CAAC;MACJ;IACF;EACF,CAAC,CAAC,CAAC;EACH,OAAOf,SAAS;AAClB,CAAC,CAAC,CAAC;AACHoB,MAAM,CAACC,OAAO,GAAGrB,SAAS"},"metadata":{},"sourceType":"script","externalDependencies":[]}